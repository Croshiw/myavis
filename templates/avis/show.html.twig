{% extends 'layouts/base.html.twig' %}

{% block title avis.titre %}

{% block body %}

    <div class="row">
        <div class="col-md-6 mx-auto">
            <article class="avis bg-white rounded shadow">
                <div class="mw-100 overflow-hidden">
                    <a href="{{path('app_avis_show',{id:avis.id})}}"><img src="{{ (avis.imageName ? vich_uploader_asset(avis) : asset('build/images/default.jpg'))
                           | imagine_filter('squared_thumbnail_medium')}}" alt="{{ avis.titre }}" class="w-100 rounded-top"/></a>
                </div>             
                <h2 class="h4 pt-2" align="center"><a href="{{path('app_avis_show',{id:avis.id})}}" class="text-primary">{{avis.titre}}</a></h2>
                <p class="pb-3 text-muted" align="center"><small> Submitted <time datetime="{{avis.createdAT|date('Y-m-d H:i:s')}}">{{ avis.createdAt|ago }}</time>  by [OWNER FULL NAME]</small></p>
                <p class="pb-3" align="center"> {{avis.description}}</p>

                <div class="pb-3" align="center">
                    <a href="{{path('app_avis_edit', {id: avis.id})}}" class="btn btn-primary">Editer</a>
                    <a href="#" onclick="event.preventDefault(); confirm('Confirmer la suppression') &&
                    document.getElementById('js-pin-delete-form').submit();" class="btn btn-primary">Supprimer</a>

                    <form id="js-pin-delete-form" method="POST" action="{{path('app_avis_delete', {id: avis.id}) }}" style="display: none;">
                        <input type="hidden" name="csrf_token" value="{{ csrf_token('avis_deletion_' ~ avis.id) }}">
                        <input type="hidden" name="_method" value="DELETE">
                    </form>
                </div>
            </article>

            
        </div>
    </div>
    
{% endblock %}